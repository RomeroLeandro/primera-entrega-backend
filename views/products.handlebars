<h4>Página: {{products.page}} de {{products.totalPages}}</h4>

<div style="display: flex">
  <a
    href="/products?page={{products.page}}&limit=10&sort={{products.sort}}&category={{products.category}}&stock={{products.stock}}"
  >10 por página</a>
  <a
    href="/products?page={{products.page}}&limit=20&sort={{products.sort}}&category={{products.category}}&stock={{products.stock}}"
  >20 por página</a>
  <a
    href="/products?page={{products.page}}&limit=50&sort={{products.sort}}&category={{products.category}}&stock={{products.stock}}"
  >50 por página</a>
</div>
<div class="d-flex flex-row justify-content-end align-items-center gap-3">
  <p class="m-0">Ordenar por:</p>
  <select class="form-select w-auto" onchange="location = this.value;">
    <option value="/products">Mas relevantes</option>
  <option value="/products?sort=asc">Menor precio</option>
  <option value="/products?sort=desc">Mayor precio</option>
</select>
</div>


<!-- Agregar formulario para filtrar por categoría -->
<form action="/products" method="get">
  <input type="hidden" name="page" value="{{products.page}}" />
  <input type="hidden" name="limit" value="{{products.limit}}" />
  <input type="hidden" name="sort" value="{{products.sort}}" />
  <input type="hidden" name="stock" value="{{products.stock}}" />
  <input
    type="text"
    name="category"
    placeholder="Filtrar por categoría"
    value="{{products.category}}"
  />
  <button type="submit">Filtrar</button>
</form>

<!-- Agregar formulario para filtrar por stock -->
<form action="/products" method="get">
  <input type="hidden" name="page" value="{{products.page}}" />
  <input type="hidden" name="limit" value="{{products.limit}}" />
  <input type="hidden" name="sort" value="{{products.sort}}" />
  <input type="hidden" name="category" value="{{products.category}}" />
  <input
    type="number"
    name="stock"
    placeholder="Filtrar por stock"
    value="{{products.stock}}"
  />
  <button type="submit">Filtrar</button>
</form>

<div class="product-container">
  {{#each products.docs}}
    <div class="card">
      <img src="..." class="card-img-top" alt="..." />
      <div class="card-body">
        <h5 class="card-title">{{this.title}}</h5>
        <p class="card-text">{{this.description}}</p>
        <p class="card-text">${{this.price}}</p>
        <a href="#" class="btn btn-primary">Agregar al carrito</a>
      </div>
    </div>
  {{/each}}
</div>

{{#if products.hasPrevPage}}
  <a
    href="/products?page={{products.prevPage}}&limit={{products.limit}}&sort={{products.sort}}&category={{products.category}}&stock={{products.stock}}"
  >Página previa</a>
{{/if}}

{{#if products.hasNextPage}}
  <a
    href="/products?page={{products.nextPage}}&limit={{products.limit}}&sort={{products.sort}}&category={{products.category}}&stock={{products.stock}}"
  >Página siguiente</a>
{{/if}}